#include <bits/stdc++.h>
using namespace std;

int main() {
    string s;
    cin >> s;

    stack<int> countStack;
    stack<string> stringStack;

    string curr = "";
    int num = 0;

    for (char ch : s) {
        if (isdigit(ch)) {
            num = num * 10 + (ch - '0');  // handle multi-digit numbers
        }
        else if (ch == '[') {
            countStack.push(num);
            stringStack.push(curr);
            num = 0;
            curr = "";
        }
        else if (ch == ']') {
            int repeat = countStack.top();
            countStack.pop();

            string prev = stringStack.top();
            stringStack.pop();

            for (int i = 0; i < repeat; i++) {
                prev += curr;
            }
            curr = prev;
        }
        else {
            curr += ch;  // normal character
        }
    }

    cout << curr;
    return 0;
}
